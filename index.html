<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package provides a programmatic interface to the OncoSimX
  web-based platform. OncoSim is a free, web-based simulation tool that
  can be used to evaluate cancer control strategies.">
<title>Programmatic interface to the OncoSimX Web Platform â€¢ oncosimx</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Programmatic interface to the OncoSimX Web Platform">
<meta property="og:description" content="This package provides a programmatic interface to the OncoSimX
  web-based platform. OncoSim is a free, web-based simulation tool that
  can be used to evaluate cancer control strategies.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">oncosimx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/oncology-outcomes/oncosimx/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="oncosimx">oncosimx<a class="anchor" aria-label="anchor" href="#oncosimx"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of <code>oncosimx</code> is to provide a programmatic interface to the OncoSimX web-based platform directly from R to simplify creating scenarios, running models, and gathering results for further processing.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>oncosimx</code> from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"oncology-outcomes/oncosimx"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The <code>oncosimx</code> package contains many functions that provide access to nearly every OpenM++ API endpoint. However, users will typically only use a smaller set of functions for most tasks.</p>
<div class="section level3">
<h3 id="main-functions">Main Functions<a class="anchor" aria-label="anchor" href="#main-functions"></a>
</h3>
<ul>
<li>
<p>Functions for accessing tables of models, worksets, or model runs</p>
<ul>
<li><p><code><a href="reference/get_model.html">get_models()</a></code></p></li>
<li><p><code><a href="reference/get_workset.html">get_worksets()</a></code> / <code>get_scenarios()</code></p></li>
<li><p><code><a href="reference/get_model_run.html">get_model_runs()</a></code> / <code><a href="reference/get_model_run.html">get_runs()</a></code></p></li>
</ul>
</li>
<li>
<p>Functions for creating new worksets or scenarios</p>
<ul>
<li>
<code><a href="reference/create_scenario.html">create_scenario()</a></code> / <code><a href="reference/get_workset.html">create_workset()</a></code>
</li>
</ul>
</li>
<li>
<p>Functions for loading models, worksets, or model runs</p>
<ul>
<li><p><code><a href="reference/load_model.html">load_model()</a></code></p></li>
<li><p><code><a href="reference/load_workset.html">load_workset()</a></code> / <code><a href="reference/load_workset.html">load_scenario()</a></code></p></li>
<li><p><code><a href="reference/load_model_run.html">load_model_run()</a></code> / <code><a href="reference/load_model_run.html">load_run()</a></code></p></li>
</ul>
</li>
<li>
<p>Functions for deleting worksets or model runs</p>
<ul>
<li><p><code><a href="reference/get_workset.html">delete_workset()</a></code> / <code><a href="reference/get_workset.html">delete_scenario()</a></code></p></li>
<li><p><code><a href="reference/get_model_run.html">delete_model_run()</a></code> / <code><a href="reference/get_model_run.html">delete_run()</a></code></p></li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="models-scenarios-runs-and-runsets">Models, Scenarios, Runs, and RunSets<a class="anchor" aria-label="anchor" href="#models-scenarios-runs-and-runsets"></a>
</h3>
<p>There are 4 main classes you will work with when using the <code>oncosimx</code> package: <code>OncoSimXModel</code>, <code>OncoSimXWorkset</code>, <code>OncoSimXModelRun</code>, and <code>OncoSimXModelRunSet</code>. Each of these are <code>R6</code> classes. <code>R6</code> is an encapsulated object-oriented programming system for R. Use the <code>load_*()</code> set of functions to load a model, workset/scenario, model run, or set of model runs into memory.</p>
<p>Instances of each of these 4 classes have methods and fields associated with them. You can access methods and fields using the <code>$</code> subset operator (e.g., <code>obj$action()</code> or <code>obj$field</code>)</p>
</div>
<div class="section level3">
<h3 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<p>Here we will work through a very simple example of creating a new scenario, extracting parameters to change, running the model, and extracting results. In this example we do not actually change any parameters, but users can edit the extracted CSV files and use <code>workset$upload_params()</code> to upload changed parameters.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/oncology-outcomes/oncosimx" class="external-link">oncosimx</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<p>Letâ€™s see what models are available:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_model.html">get_models</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 9 Ã— 7</span></span>
<span><span class="co">#&gt;   ModelId Name               Digest  Type Version CreateDateTime DefaultLangCode</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;          &lt;chr&gt;          </span></span>
<span><span class="co">#&gt; 1     101 OncoSimX-allcanceâ€¦ ce674â€¦     0 3.6.1.5 2023-06-13 16â€¦ EN             </span></span>
<span><span class="co">#&gt; 2     101 OncoSimX-breast    528f9â€¦     0 3.6.1.5 2023-06-13 15â€¦ EN             </span></span>
<span><span class="co">#&gt; 3     101 OncoSimX-cervical  30246â€¦     0 3.6.1.5 2023-06-13 16â€¦ EN             </span></span>
<span><span class="co">#&gt; 4     101 OncoSimX-colorectâ€¦ b275dâ€¦     0 3.6.1.5 2023-06-13 16â€¦ EN             </span></span>
<span><span class="co">#&gt; 5     101 OncoSimX-gmm       e83b4â€¦     0 3.6.1.5 2023-06-13 16â€¦ EN             </span></span>
<span><span class="co">#&gt; 6     101 OncoSimX-lung      eeb24â€¦     0 3.6.1.5 2023-06-13 16â€¦ EN             </span></span>
<span><span class="co">#&gt; 7     101 GMM                02614â€¦     1 1.1.2.0 2022-03-23 10â€¦ EN             </span></span>
<span><span class="co">#&gt; 8     101 HPVMM              0636aâ€¦     1 1.9.2.0 2023-03-20 11â€¦ EN             </span></span>
<span><span class="co">#&gt; 9     101 RiskPaths          d90e1â€¦     0 3.0.0.0 2022-03-07 23â€¦ EN</span></span></code></pre></div>
<p>We can now see what worksets and model runs exist for a given model.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_workset.html">get_worksets</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 Ã— 11</span></span>
<span><span class="co">#&gt;   ModelName     ModelDigest ModelVersion ModelCreateDateTime Name  BaseRunDigest</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;               &lt;chr&gt; &lt;chr&gt;        </span></span>
<span><span class="co">#&gt; 1 OncoSimX-breâ€¦ 528f94c152â€¦ 3.6.1.5      2023-06-13 15:54:0â€¦ Defaâ€¦ ""           </span></span>
<span><span class="co">#&gt; 2 OncoSimX-breâ€¦ 528f94c152â€¦ 3.6.1.5      2023-06-13 15:54:0â€¦ MyNeâ€¦ "e588fec0286â€¦</span></span>
<span><span class="co">#&gt; # â„¹ 5 more variables: IsReadonly &lt;lgl&gt;, UpdateDateTime &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   IsCleanBaseRun &lt;lgl&gt;, Txt &lt;list&lt;tibble[,3]&gt;&gt;, Param &lt;list&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_model_run.html">get_runs</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 Ã— 20</span></span>
<span><span class="co">#&gt;   ModelName       ModelDigest    ModelVersion ModelCreateDateTime Name  SubCount</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt;          &lt;chr&gt;        &lt;chr&gt;               &lt;chr&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 OncoSimX-breast 528f94c1525c9â€¦ 3.6.1.5      2023-06-13 15:54:0â€¦ Defaâ€¦       12</span></span>
<span><span class="co">#&gt; 2 OncoSimX-breast 528f94c1525c9â€¦ 3.6.1.5      2023-06-13 15:54:0â€¦ Examâ€¦       12</span></span>
<span><span class="co">#&gt; # â„¹ 14 more variables: SubStarted &lt;int&gt;, SubCompleted &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   CreateDateTime &lt;chr&gt;, Status &lt;chr&gt;, UpdateDateTime &lt;chr&gt;, RunDigest &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   ValueDigest &lt;chr&gt;, RunStamp &lt;chr&gt;, Txt &lt;list&gt;, Opts &lt;list&gt;, Param &lt;list&gt;,</span></span>
<span><span class="co">#&gt; #   Table &lt;list&gt;, Entity &lt;list&gt;, Progress &lt;list&gt;</span></span></code></pre></div>
<p>Now we can load the <code>OncoSimX-breast</code> model to inspect.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">breast</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/load_model.html">load_model</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span><span class="op">)</span></span>
<span><span class="va">breast</span></span>
<span><span class="co">#&gt; â”€â”€ OncoSimX Model â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span>
<span><span class="co">#&gt; â†’ ModelName: OncoSimX-breast</span></span>
<span><span class="co">#&gt; â†’ ModelDigest: 528f94c1525c994b010d84507ed7903f</span></span></code></pre></div>
<p>We will now load the <code>Default</code> set of input parameters for the Breast model.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">breast_default</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/load_workset.html">load_scenario</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span>, <span class="st">'Default'</span><span class="op">)</span></span>
<span><span class="va">breast_default</span></span>
<span><span class="co">#&gt; â”€â”€ OncoSimX Workset â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span>
<span><span class="co">#&gt; â†’ ModelName: OncoSimX-breast</span></span>
<span><span class="co">#&gt; â†’ ModelDigest: 528f94c1525c994b010d84507ed7903f</span></span>
<span><span class="co">#&gt; â†’ WorksetName: Default</span></span>
<span><span class="co">#&gt; â†’ BaseRunDigest:</span></span></code></pre></div>
<p>Finally, we will load the base run for the Breast model.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">baserun_digest</span> <span class="op">&lt;-</span> <span class="va">breast</span><span class="op">$</span><span class="va">run_list</span><span class="op">$</span><span class="va">RunDigest</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">breast_baserun</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/load_model_run.html">load_run</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span>, <span class="va">baserun_digest</span><span class="op">)</span></span>
<span><span class="va">breast_baserun</span></span>
<span><span class="co">#&gt; â”€â”€ OncoSimX ModelRun â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span>
<span><span class="co">#&gt; â†’ ModelName: OncoSimX-breast</span></span>
<span><span class="co">#&gt; â†’ ModelDigest: 528f94c1525c994b010d84507ed7903f</span></span>
<span><span class="co">#&gt; â†’ RunName: Default_first_run_32M_cases_12_subs</span></span>
<span><span class="co">#&gt; â†’ RunDigest: e588fec0286ad7cacb1cdb32f947898a</span></span></code></pre></div>
<p>We will create a new scenario based on the parameters from the <code>Default_first_run_32M_cases_12_subs</code> model run.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/create_scenario.html">create_scenario</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span>, <span class="st">'MyNewScenario'</span>, <span class="va">baserun_digest</span><span class="op">)</span></span></code></pre></div>
<p>We will load the new scenario, copy over the <code>ProvincesOfInterest</code> parameter from the base run and extract it to a CSV file for editing.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_scenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/load_workset.html">load_scenario</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span>, <span class="st">'MyNewScenario'</span><span class="op">)</span></span></code></pre></div>
<p>We didnâ€™t make any changes to the base parameters, but we will run the model anyway. We will give it the name <code>'ExampleRun'</code>. We use the <code>wait = TRUE</code> flag to make sure we want for the model run to finish before returning to our R session. Note that model runs may take a long time when the number of simulation cases is large.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_scenario</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="st">'ExampleRun'</span>, wait <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Note that we can use the <code>opts</code> argument and the <code><a href="reference/opts_run.html">opts_run()</a></code> function to configure our run. By default, models are run with 5,000 simulation cases and 12 SubValues. This allows for quick model runs and faster iteration, but users will want to increase the number of simulation cases when performing a full model run.</p>
<p>Now that our model run is complete, letâ€™s load it into memory.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_run</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/load_model_run.html">load_run</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span>, <span class="st">'ExampleRun'</span><span class="op">)</span></span>
<span><span class="va">example_run</span></span>
<span><span class="co">#&gt; â”€â”€ OncoSimX ModelRun â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span>
<span><span class="co">#&gt; â†’ ModelName: OncoSimX-breast</span></span>
<span><span class="co">#&gt; â†’ ModelDigest: 528f94c1525c994b010d84507ed7903f</span></span>
<span><span class="co">#&gt; â†’ RunName: ExampleRun</span></span>
<span><span class="co">#&gt; â†’ RunDigest: 5584cc00a7c296b2e4af66deb679cce8</span></span></code></pre></div>
<p>We can now extract an output table from this model run using <code>$get_table()</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_run</span><span class="op">$</span><span class="fu">get_table</span><span class="op">(</span><span class="st">'Breast_Cancer_Rates_Table'</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3,848 Ã— 4</span></span>
<span><span class="co">#&gt;    expr_name                        Province                   Year expr_value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                            &lt;chr&gt;                     &lt;dbl&gt;      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2015       0   </span></span>
<span><span class="co">#&gt;  2 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2016       0   </span></span>
<span><span class="co">#&gt;  3 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2017       0   </span></span>
<span><span class="co">#&gt;  4 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2018       0   </span></span>
<span><span class="co">#&gt;  5 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2019       0   </span></span>
<span><span class="co">#&gt;  6 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2020       0   </span></span>
<span><span class="co">#&gt;  7 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2021       3.25</span></span>
<span><span class="co">#&gt;  8 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2022       0   </span></span>
<span><span class="co">#&gt;  9 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2023       3.29</span></span>
<span><span class="co">#&gt; 10 Incidence_rate_x_mbined_per_1000 Newfoundland_and_Labrador  2024       0   </span></span>
<span><span class="co">#&gt; # â„¹ 3,838 more rows</span></span></code></pre></div>
<p>Great, we have created a new scenario, extracted some parameters to potentially modify, uploaded the parameters, ran the model, and extracted output tables. In this last step, we will load multiple model runs into memory to compare them.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">breast_runs</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/load_model_runs.html">load_runs</a></span><span class="op">(</span><span class="st">'OncoSimX-breast'</span>, <span class="va">breast</span><span class="op">$</span><span class="va">run_list</span><span class="op">$</span><span class="va">RunDigest</span><span class="op">)</span></span>
<span><span class="va">breast_runs</span></span>
<span><span class="co">#&gt; â”€â”€ OncoSimX ModelRunSet â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span>
<span><span class="co">#&gt; â†’ ModelName: OncoSimX-breast</span></span>
<span><span class="co">#&gt; â†’ ModelDigest: 528f94c1525c994b010d84507ed7903f</span></span>
<span><span class="co">#&gt; â†’ RunNames: [Default_first_run_32M_cases_12_subs, ExampleRun]</span></span>
<span><span class="co">#&gt; â†’ RunDigests: [e588fec0286ad7cacb1cdb32f947898a, 5584cc00a7c296b2e4af66deb679cce8]</span></span></code></pre></div>
<p>We will extract a new table from both models. Note that an extra column, <code>RunName</code> is added to indicate which model run the output table data corresponds to.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cost_bystage</span> <span class="op">&lt;-</span> <span class="va">breast_runs</span><span class="op">$</span><span class="fu">get_table</span><span class="op">(</span><span class="st">'Breast_Cancer_Cost_ByStage_Table'</span><span class="op">)</span></span>
<span><span class="va">cost_bystage</span></span>
<span><span class="co">#&gt; # A tibble: 80 Ã— 4</span></span>
<span><span class="co">#&gt;    RunName                             expr_name            Stage     expr_value</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                               &lt;chr&gt;                &lt;chr&gt;          &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    4.74e 8</span></span>
<span><span class="co">#&gt;  2 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    2.98e 9</span></span>
<span><span class="co">#&gt;  3 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    2.98e 8</span></span>
<span><span class="co">#&gt;  4 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    2.40e 9</span></span>
<span><span class="co">#&gt;  5 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    1.90e 9</span></span>
<span><span class="co">#&gt;  6 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    1.23e 9</span></span>
<span><span class="co">#&gt;  7 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    2.18e 8</span></span>
<span><span class="co">#&gt;  8 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    6.07e 8</span></span>
<span><span class="co">#&gt;  9 Default_first_run_32M_cases_12_subs Total_treatment_cost Breast_câ€¦    1.16e 9</span></span>
<span><span class="co">#&gt; 10 Default_first_run_32M_cases_12_subs Total_treatment_cost all          1.13e10</span></span>
<span><span class="co">#&gt; # â„¹ 70 more rows</span></span></code></pre></div>
<p>We can even plot this using <code>ggplot2</code>!</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cost_bystage</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">Stage</span>, <span class="va">expr_value</span>, fill <span class="op">=</span> <span class="va">RunName</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span>position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="st">'Breast Cancer Costs ($)'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">'bottom'</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-17-1.png" width="100%"></p>
<p>When we are sure we no longer need a scenario or model run, we can use <code><a href="reference/get_workset.html">delete_scenario()</a></code> or <code><a href="reference/get_model_run.html">delete_run()</a></code> to clean things up!</p>
</div>
<div class="section level3">
<h3 id="modifying-scenario-parameters">Modifying Scenario Parameters<a class="anchor" aria-label="anchor" href="#modifying-scenario-parameters"></a>
</h3>
<p>You can modify scenario parameters one of two ways. (1) You can make changes to parameters directly in your R session (referred to as in-memory changes), or (2) you can extract the parameter table into a CSV file and make changes there. In both cases, the modified parameters will be saved as CSV files in a specially named directory in order to have a saved copy of changed parameters and then uploaded to batch update parameters.</p>
</div>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the <code>oncosimx</code> project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/oncology-outcomes/oncosimx/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/oncology-outcomes/oncosimx/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing oncosimx</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Matthew T. Warkentin <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8730-3511" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/oncology-outcomes/oncosimx/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/oncology-outcomes/oncosimx/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Matthew T. Warkentin.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
